{# Navigation component - requires 'active_page' to be set by parent template #}
{# Usage: {% set active_page = 'dashboard' %} in parent template before including navigation #}

<!-- Navigation -->
<nav class="main-nav" role="navigation" aria-label="{{ _('Main navigation') }}">
    <a href="{{ url_for('get_settings_view') }}" class="nav-item{% if active_page == 'dashboard' %} active{% endif %}"
       {% if active_page == 'dashboard' %}aria-current="page"{% endif %}>{{ _('Dashboard') }}</a>
    <a href="{{ url_for('detections_view') }}" class="nav-item{% if active_page == 'detections' %} active{% endif %}"
       {% if active_page == 'detections' %}aria-current="page"{% endif %}>{{ _('Detections') }}</a>
    <a href="{{ url_for('best_recordings_view') }}" class="nav-item{% if active_page == 'best' %} active{% endif %}"
       {% if active_page == 'best' %}aria-current="page"{% endif %}>{{ _('Best Recordings') }}</a>
    <a href="{{ url_for('species_checklist_view') }}" class="nav-item{% if active_page == 'species' %} active{% endif %}"
       {% if active_page == 'species' %}aria-current="page"{% endif %}>{{ _('Species Checklist') }}</a>
    <a href="{{ url_for('get_livestream') }}" class="nav-item{% if active_page == 'livestream' %} active{% endif %}"
       {% if active_page == 'livestream' %}aria-current="page"{% endif %}>{{ _('Audio Stream') }}</a>
    <a href="{{ url_for('analysis_view') }}" class="nav-item{% if active_page == 'analysis' %} active{% endif %}"
       {% if active_page == 'analysis' %}aria-current="page"{% endif %}>{{ _('Analysis') }}</a>
    <a href="/docs" class="nav-item{% if active_page == 'api' %} active{% endif %}"
       {% if active_page == 'api' %}aria-current="page"{% endif %}>{{ _('API') }}</a>

    <!-- Admin dropdown (right-aligned) -->
    <div class="admin-dropdown" role="region" aria-label="{{ _('Administration menu') }}">
        <button class="nav-item{% if active_page in ['settings', 'logs', 'database', 'services', 'update'] %} active{% endif %}"
                type="button"
                aria-expanded="false"
                aria-haspopup="true"
                aria-controls="admin-menu">
            {{ _('Admin') }}
        </button>
        <div class="admin-menu" id="admin-menu" role="menu" aria-labelledby="admin-button" style="display: none;">
            <a href="{{ url_for('get_settings_view') }}" role="menuitem"
               class="{% if active_page == 'settings' %}active{% endif %}"
               {% if active_page == 'settings' %}aria-current="page"{% endif %}>{{ _('Settings') }}</a>
            <a href="{{ url_for('services_view') }}" role="menuitem"
               class="{% if active_page == 'services' %}active{% endif %}"
               {% if active_page == 'services' %}aria-current="page"{% endif %}>{{ _('System Services') }}</a>
            <a href="{{ url_for('update_page') }}" role="menuitem"
               class="{% if active_page == 'update' %}active{% endif %}"
               {% if active_page == 'update' %}aria-current="page"{% endif %}>{{ _('System Update') }}</a>
            <a href="{{ url_for('view_logs') }}" role="menuitem"
               class="{% if active_page == 'logs' %}active{% endif %}"
               {% if active_page == 'logs' %}aria-current="page"{% endif %}>{{ _('Logs') }}</a>
            <a href="/admin/database" role="menuitem"
               class="{% if active_page == 'database' %}active{% endif %}"
               {% if active_page == 'database' %}aria-current="page"{% endif %}>{{ _('Database') }}</a>
        </div>
    </div>
</nav>
