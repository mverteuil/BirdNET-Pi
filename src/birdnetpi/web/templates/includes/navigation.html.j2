{# Navigation component - pass 'active_page' to highlight current page #}
{# Usage: {% include 'includes/navigation.html.j2' with active_page='dashboard' %} #}

<!-- Navigation -->
<nav class="main-nav" role="navigation" aria-label="{{ _('Main navigation') }}">
    <a href="/" class="nav-item{% if active_page == 'dashboard' %} active{% endif %}"
       {% if active_page == 'dashboard' %}aria-current="page"{% endif %}>{{ _('Dashboard') }}</a>
    <a href="/detections" class="nav-item{% if active_page == 'detections' %} active{% endif %}"
       {% if active_page == 'detections' %}aria-current="page"{% endif %}>{{ _('Detections') }}</a>
    <a href="/reports/best" class="nav-item{% if active_page == 'best' %} active{% endif %}"
       {% if active_page == 'best' %}aria-current="page"{% endif %}>{{ _('Best Recordings') }}</a>
    <a href="/livestream" class="nav-item{% if active_page == 'livestream' %} active{% endif %}"
       {% if active_page == 'livestream' %}aria-current="page"{% endif %}>{{ _('Audio Stream') }}</a>
    <a href="/reports/analysis" class="nav-item{% if active_page == 'analysis' %} active{% endif %}"
       {% if active_page == 'analysis' %}aria-current="page"{% endif %}>{{ _('Analysis') }}</a>
    <a href="/docs" class="nav-item{% if active_page == 'api' %} active{% endif %}"
       {% if active_page == 'api' %}aria-current="page"{% endif %}>{{ _('API') }}</a>

    <!-- Admin dropdown (right-aligned) -->
    <div class="admin-dropdown" role="region" aria-label="{{ _('Administration menu') }}">
        <button class="nav-item{% if active_page in ['settings', 'logs', 'database', 'services', 'update'] %} active{% endif %}"
                type="button"
                aria-expanded="false"
                aria-haspopup="true"
                aria-controls="admin-menu">
            {{ _('Admin') }}
        </button>
        <div class="admin-menu" id="admin-menu" role="menu" aria-labelledby="admin-button" style="display: none;">
            <a href="/admin/settings" role="menuitem"
               class="{% if active_page == 'settings' %}active{% endif %}"
               {% if active_page == 'settings' %}aria-current="page"{% endif %}>{{ _('Settings') }}</a>
            <a href="/admin/services" role="menuitem"
               class="{% if active_page == 'services' %}active{% endif %}"
               {% if active_page == 'services' %}aria-current="page"{% endif %}>{{ _('System Services') }}</a>
            <a href="/admin/update" role="menuitem"
               class="{% if active_page == 'update' %}active{% endif %}"
               {% if active_page == 'update' %}aria-current="page"{% endif %}>{{ _('System Update') }}</a>
            <a href="/admin/logs" role="menuitem"
               class="{% if active_page == 'logs' %}active{% endif %}"
               {% if active_page == 'logs' %}aria-current="page"{% endif %}>{{ _('Logs') }}</a>
            <a href="/admin/database" role="menuitem"
               class="{% if active_page == 'database' %}active{% endif %}"
               {% if active_page == 'database' %}aria-current="page"{% endif %}>{{ _('Database') }}</a>
        </div>
    </div>
</nav>
